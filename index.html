<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Bot</title>
    <!-- Telegram (—Å–∞–º–∞—è –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–æ—Å–ª–µ head) -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial;
            background: #1a1a2e;
            color: white;
            text-align: center;
        }
        .balance {
            font-size: 50px;
            margin: 30px;
            padding: 20px;
            background: #16213e;
            border-radius: 20px;
        }
        button {
            padding: 15px 30px;
            margin: 10px;
            font-size: 18px;
            background: #0f3460;
            color: white;
            border: none;
            border-radius: 10px;
        }
    </style>
</head>
<body>
    <h1>üí∞ Crypto Bot</h1>
    <div class="balance" id="balance">0</div>
    <button onclick="add()">+100 —Ç–µ—Å—Ç</button>
    <button onclick="refresh()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>

    <script>
        // ========== –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –°–†–ê–ó–£ ==========
        if (window.Telegram && Telegram.WebApp) {
            Telegram.WebApp.ready();
            Telegram.WebApp.expand();
        }
        
        // ========== –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ ==========
        let userId = 'guest';
        try {
            const user = Telegram.WebApp?.initDataUnsafe?.user;
            if (user) {
                userId = user.id;
                document.title = `User: ${userId}`;
            }
        } catch (e) {}
        
        // ========== –ë–ê–õ–ê–ù–° ==========
        function getBalance() {
            return Number(localStorage.getItem('bal_' + userId)) || 0;
        }
        
        function setBalance(val) {
            localStorage.setItem('bal_' + userId, val);
            document.getElementById('balance').innerText = val;
        }
        
        function add() {
            setBalance(getBalance() + 100);
        }
        
        function refresh() {
            document.getElementById('balance').innerText = getBalance();
        }
        
        // –°—Ç–∞—Ä—Ç
        setBalance(getBalance());
    </script>
</body>
</html>